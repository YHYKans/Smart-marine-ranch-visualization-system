{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\\\\\u667A\\u6167\\u6D77\\u6D0B\\u7267\\u573A\\u53EF\\u89C6\\u5316\\u7CFB\\u7EDF\\\\frontend\\\\src\\\\pages\\\\Video.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlatform = () => {\n  _s();\n  var _videoRef$current, _videoRef$current2, _videoRef$current3;\n  const [videos, setVideos] = useState([]);\n  const [currentVideo, setCurrentVideo] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(0.5);\n  const [progress, setProgress] = useState(0);\n  const [showControls, setShowControls] = useState(true);\n  const [error, setError] = useState(null);\n  const videoRef = useRef(null);\n  const progressRef = useRef(null);\n  const containerRef = useRef(null);\n\n  // 获取视频列表\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/videos').then(response => setVideos(response.data)).catch(error => setError('无法加载视频列表'));\n  }, []);\n\n  // 视频控制逻辑\n  const handlePlayPause = () => {\n    if (!videoRef.current) return;\n    videoRef.current.paused ? videoRef.current.play().catch(() => {}) : videoRef.current.pause();\n    setIsPlaying(!videoRef.current.paused);\n  };\n  const handleMute = () => {\n    if (!videoRef.current) return;\n    videoRef.current.muted = !videoRef.current.muted;\n    setVolume(videoRef.current.muted ? 0 : volume);\n  };\n  const handleVolumeChange = e => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    if (videoRef.current) videoRef.current.volume = newVolume;\n  };\n  const handleTimeUpdate = () => {\n    if (videoRef.current) {\n      setProgress(videoRef.current.currentTime / videoRef.current.duration * 100);\n    }\n  };\n  const handleProgressClick = e => {\n    if (!progressRef.current || !videoRef.current) return;\n    const rect = progressRef.current.getBoundingClientRect();\n    const pos = (e.clientX - rect.left) / rect.width;\n    videoRef.current.currentTime = pos * videoRef.current.duration;\n  };\n  const handleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      containerRef.current.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  };\n\n  // 格式化时间\n  const formatTime = seconds => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  // 键盘控制\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (!videoRef.current) return;\n      switch (e.key) {\n        case ' ':\n          handlePlayPause();\n          break;\n        case 'm':\n          handleMute();\n          break;\n        case 'ArrowUp':\n          setVolume(Math.min(1, volume + 0.1));\n          break;\n        case 'ArrowDown':\n          setVolume(Math.max(0, volume - 0.1));\n          break;\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [handlePlayPause, handleMute, volume]);\n\n  // 自动隐藏控制条\n  useEffect(() => {\n    let timeout;\n    const handleMouseMove = () => {\n      setShowControls(true);\n      clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        if (isPlaying) setShowControls(false);\n      }, 3000);\n    };\n    containerRef.current.addEventListener('mousemove', handleMouseMove);\n    return () => containerRef.current.removeEventListener('mousemove', handleMouseMove);\n  }, [isPlaying]);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",\n      children: videos.map(video => /*#__PURE__*/_jsxDEV(VideoCard, {\n        video: video,\n        onClick: () => setCurrentVideo(video)\n      }, video.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), currentVideo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-0 left-0 right-0 bottom-0 bg-black z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative h-full max-w-7xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentVideo(null),\n          className: \"absolute top-4 left-4 text-white z-10 p-2 rounded hover:bg-gray-800\",\n          children: \"\\u2190 \\u8FD4\\u56DE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: containerRef,\n          className: \"video-container aspect-video mt-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            src: `http://localhost:5000/video?file=${encodeURIComponent(currentVideo.source.split('?file=')[1])}`,\n            poster: currentVideo.cover,\n            className: \"w-full h-full object-cover\",\n            onTimeUpdate: handleTimeUpdate,\n            onLoadedMetadata: () => setIsPlaying(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), showControls && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              ref: progressRef,\n              className: \"w-full h-1 bg-gray-600 rounded-full cursor-pointer mb-3\",\n              onClick: handleProgressClick,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full bg-primary rounded-full\",\n                style: {\n                  width: `${progress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handlePlayPause,\n                  children: isPlaying ? /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-pause text-white text-xl\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-play text-white text-xl\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleMute,\n                    children: (_videoRef$current = videoRef.current) !== null && _videoRef$current !== void 0 && _videoRef$current.muted ? /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-volume-off text-white text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 29\n                    }, this) : volume > 0.5 ? /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-volume-up text-white text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-volume-down text-white text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 184,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0\",\n                    max: \"1\",\n                    step: \"0.05\",\n                    value: volume,\n                    onChange: handleVolumeChange,\n                    className: \"volume-slider ml-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white text-sm\",\n                  children: [formatTime(((_videoRef$current2 = videoRef.current) === null || _videoRef$current2 === void 0 ? void 0 : _videoRef$current2.currentTime) || 0), \" /\", formatTime(((_videoRef$current3 = videoRef.current) === null || _videoRef$current3 === void 0 ? void 0 : _videoRef$current3.duration) || 0)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleFullscreen,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-expand text-white text-xl\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n\n// 视频卡片组件\n_s(VideoPlatform, \"+KU8kFmSFoFcwI5r0LVZel9HrM8=\");\n_c = VideoPlatform;\nconst VideoCard = ({\n  video,\n  onClick\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white rounded-xl shadow-md overflow-hidden cursor-pointer transition-transform hover:scale-105\",\n  onClick: onClick,\n  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n    src: video.cover,\n    alt: video.title,\n    className: \"w-full aspect-video object-cover\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-medium line-clamp-2 mb-2\",\n      children: video.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-1 truncate\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: video.channel.avatar,\n          className: \"w-5 h-5 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: video.channel.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-eye\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: video.views\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 220,\n  columnNumber: 3\n}, this);\n_c2 = VideoCard;\nexport default VideoPlatform;\nvar _c, _c2;\n$RefreshReg$(_c, \"VideoPlatform\");\n$RefreshReg$(_c2, \"VideoCard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","VideoPlatform","_s","_videoRef$current","_videoRef$current2","_videoRef$current3","videos","setVideos","currentVideo","setCurrentVideo","isPlaying","setIsPlaying","volume","setVolume","progress","setProgress","showControls","setShowControls","error","setError","videoRef","progressRef","containerRef","get","then","response","data","catch","handlePlayPause","current","paused","play","pause","handleMute","muted","handleVolumeChange","e","newVolume","parseFloat","target","value","handleTimeUpdate","currentTime","duration","handleProgressClick","rect","getBoundingClientRect","pos","clientX","left","width","handleFullscreen","document","fullscreenElement","requestFullscreen","exitFullscreen","formatTime","seconds","minutes","Math","floor","remainingSeconds","toString","padStart","handleKeyDown","key","min","max","addEventListener","removeEventListener","timeout","handleMouseMove","clearTimeout","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","video","VideoCard","onClick","id","ref","src","encodeURIComponent","source","split","poster","cover","onTimeUpdate","onLoadedMetadata","style","type","step","onChange","_c","alt","title","channel","avatar","name","views","_c2","$RefreshReg$"],"sources":["D:/软件工程/智慧海洋牧场可视化系统/frontend/src/pages/Video.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst VideoPlatform = () => {\r\n  const [videos, setVideos] = useState([]);\r\n  const [currentVideo, setCurrentVideo] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [volume, setVolume] = useState(0.5);\r\n  const [progress, setProgress] = useState(0);\r\n  const [showControls, setShowControls] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const videoRef = useRef(null);\r\n  const progressRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n\r\n  // 获取视频列表\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/api/videos')\r\n      .then(response => setVideos(response.data))\r\n      .catch(error => setError('无法加载视频列表'));\r\n  }, []);\r\n\r\n  // 视频控制逻辑\r\n  const handlePlayPause = () => {\r\n    if (!videoRef.current) return;\r\n    \r\n    videoRef.current.paused \r\n      ? videoRef.current.play().catch(() => {})\r\n      : videoRef.current.pause();\r\n    setIsPlaying(!videoRef.current.paused);\r\n  };\r\n\r\n  const handleMute = () => {\r\n    if (!videoRef.current) return;\r\n    videoRef.current.muted = !videoRef.current.muted;\r\n    setVolume(videoRef.current.muted ? 0 : volume);\r\n  };\r\n\r\n  const handleVolumeChange = (e) => {\r\n    const newVolume = parseFloat(e.target.value);\r\n    setVolume(newVolume);\r\n    if (videoRef.current) videoRef.current.volume = newVolume;\r\n  };\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (videoRef.current) {\r\n      setProgress(\r\n        (videoRef.current.currentTime / videoRef.current.duration) * 100\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleProgressClick = (e) => {\r\n    if (!progressRef.current || !videoRef.current) return;\r\n    \r\n    const rect = progressRef.current.getBoundingClientRect();\r\n    const pos = (e.clientX - rect.left) / rect.width;\r\n    videoRef.current.currentTime = pos * videoRef.current.duration;\r\n  };\r\n\r\n  const handleFullscreen = () => {\r\n    if (!document.fullscreenElement) {\r\n      containerRef.current.requestFullscreen();\r\n    } else {\r\n      document.exitFullscreen();\r\n    }\r\n  };\r\n\r\n  // 格式化时间\r\n  const formatTime = (seconds) => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = Math.floor(seconds % 60);\r\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // 键盘控制\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (!videoRef.current) return;\r\n      \r\n      switch (e.key) {\r\n        case ' ':\r\n          handlePlayPause();\r\n          break;\r\n        case 'm':\r\n          handleMute();\r\n          break;\r\n        case 'ArrowUp':\r\n          setVolume(Math.min(1, volume + 0.1));\r\n          break;\r\n        case 'ArrowDown':\r\n          setVolume(Math.max(0, volume - 0.1));\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [handlePlayPause, handleMute, volume]);\r\n\r\n  // 自动隐藏控制条\r\n  useEffect(() => {\r\n    let timeout;\r\n    const handleMouseMove = () => {\r\n      setShowControls(true);\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        if (isPlaying) setShowControls(false);\r\n      }, 3000);\r\n    };\r\n\r\n    containerRef.current.addEventListener('mousemove', handleMouseMove);\r\n    return () => containerRef.current.removeEventListener('mousemove', handleMouseMove);\r\n  }, [isPlaying]);\r\n\r\n  if (error) return <div className=\"error\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen\">\r\n      {/* 视频列表 */}\r\n      <div className=\"container mx-auto px-4 py-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n        {videos.map(video => (\r\n          <VideoCard \r\n            key={video.id}\r\n            video={video}\r\n            onClick={() => setCurrentVideo(video)}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* 视频播放器 */}\r\n      {currentVideo && (\r\n        <div className=\"fixed top-0 left-0 right-0 bottom-0 bg-black z-50\">\r\n          <div className=\"relative h-full max-w-7xl mx-auto\">\r\n            <button\r\n              onClick={() => setCurrentVideo(null)}\r\n              className=\"absolute top-4 left-4 text-white z-10 p-2 rounded hover:bg-gray-800\"\r\n            >\r\n              ← 返回\r\n            </button>\r\n\r\n            <div ref={containerRef} className=\"video-container aspect-video mt-16\">\r\n              <video\r\n                ref={videoRef}\r\n                src={`http://localhost:5000/video?file=${encodeURIComponent(currentVideo.source.split('?file=')[1])}`}\r\n                poster={currentVideo.cover}\r\n                className=\"w-full h-full object-cover\"\r\n                onTimeUpdate={handleTimeUpdate}\r\n                onLoadedMetadata={() => setIsPlaying(true)}\r\n              />\r\n\r\n              {/* 控制条 */}\r\n              {showControls && (\r\n                <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4\">\r\n                  <div\r\n                    ref={progressRef}\r\n                    className=\"w-full h-1 bg-gray-600 rounded-full cursor-pointer mb-3\"\r\n                    onClick={handleProgressClick}\r\n                  >\r\n                    <div\r\n                      className=\"h-full bg-primary rounded-full\"\r\n                      style={{ width: `${progress}%` }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <button onClick={handlePlayPause}>\r\n                        {isPlaying ? (\r\n                          <i className=\"fa fa-pause text-white text-xl\" />\r\n                        ) : (\r\n                          <i className=\"fa fa-play text-white text-xl\" />\r\n                        )}\r\n                      </button>\r\n\r\n                      <div className=\"flex items-center\">\r\n                        <button onClick={handleMute}>\r\n                          {videoRef.current?.muted ? (\r\n                            <i className=\"fa fa-volume-off text-white text-xl\" />\r\n                          ) : volume > 0.5 ? (\r\n                            <i className=\"fa fa-volume-up text-white text-xl\" />\r\n                          ) : (\r\n                            <i className=\"fa fa-volume-down text-white text-xl\" />\r\n                          )}\r\n                        </button>\r\n                        <input\r\n                          type=\"range\"\r\n                          min=\"0\"\r\n                          max=\"1\"\r\n                          step=\"0.05\"\r\n                          value={volume}\r\n                          onChange={handleVolumeChange}\r\n                          className=\"volume-slider ml-2\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"text-white text-sm\">\r\n                        {formatTime(videoRef.current?.currentTime || 0)} / \r\n                        {formatTime(videoRef.current?.duration || 0)}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <button onClick={handleFullscreen}>\r\n                      <i className=\"fa fa-expand text-white text-xl\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// 视频卡片组件\r\nconst VideoCard = ({ video, onClick }) => (\r\n  <div \r\n    className=\"bg-white rounded-xl shadow-md overflow-hidden cursor-pointer transition-transform hover:scale-105\"\r\n    onClick={onClick}\r\n  >\r\n    <img \r\n      src={video.cover} \r\n      alt={video.title} \r\n      className=\"w-full aspect-video object-cover\"\r\n    />\r\n    <div className=\"p-4\">\r\n      <h3 className=\"font-medium line-clamp-2 mb-2\">{video.title}</h3>\r\n      <div className=\"flex items-center justify-between text-sm text-gray-600\">\r\n        <div className=\"flex items-center space-x-1 truncate\">\r\n          <img src={video.channel.avatar} className=\"w-5 h-5 rounded-full\" />\r\n          <span>{video.channel.name}</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-1\">\r\n          <i className=\"fa fa-eye\" />\r\n          <span>{video.views}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default VideoPlatform;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}