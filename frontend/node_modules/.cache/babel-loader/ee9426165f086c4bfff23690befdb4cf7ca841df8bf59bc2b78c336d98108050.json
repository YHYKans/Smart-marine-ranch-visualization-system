{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u8F6F\\u4EF6\\u5DE5\\u7A0B\\\\\\u667A\\u6167\\u6D77\\u6D0B\\u7267\\u573A\\u53EF\\u89C6\\u5316\\u7CFB\\u7EDF\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport UserEditModal from '../components/UserEditModal';\nimport { Layout, Card, Tabs, Table, Tag, Spin, Alert, Avatar, Button, Space, Typography, Statistic, Badge } from 'antd';\nimport { UserOutlined, TeamOutlined, HistoryOutlined, CheckCircleOutlined, CloseCircleOutlined, EditOutlined, LockOutlined, LineChartOutlined, DashboardOutlined, CloudServerOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content\n} = Layout;\nconst {\n  Title,\n  Text\n} = Typography;\nconst {\n  TabPane\n} = Tabs;\nconst AdminDashboard = () => {\n  _s();\n  const {\n    userInfo,\n    logout,\n    authFetch\n  } = useAuth();\n  const [activeTab, setActiveTab] = useState('users');\n  const [users, setUsers] = useState([]);\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [editingUser, setEditingUser] = useState(null);\n  const [stats, setStats] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!userInfo || !userInfo.isAdmin) {\n      navigate('/user-dashboard');\n      return;\n    }\n    fetchData(activeTab);\n    fetchDashboardStats();\n  }, [activeTab, navigate, userInfo]);\n  const fetchDashboardStats = async () => {\n    try {\n      const response = await authFetch('/api/stats');\n      if (!response.ok) throw new Error('获取统计数据失败');\n      const data = await response.json();\n      setStats(data);\n    } catch (err) {\n      console.error('获取统计数据失败:', err);\n    }\n  };\n  const fetchData = async tab => {\n    setLoading(true);\n    setError(null);\n    try {\n      if (tab === 'users') {\n        await fetchUsers();\n      } else if (tab === 'logs') {\n        await fetchLogs();\n      }\n    } catch (err) {\n      setError(err.message || '获取数据失败');\n      if (err.message.includes('权限') || err.message.includes('访问被拒绝')) {\n        navigate('/user-dashboard');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchUsers = async () => {\n    const response = await authFetch('/api/users');\n    if (!response.ok) {\n      const data = await response.json();\n      if (response.status === 403) {\n        navigate('/user-dashboard');\n      }\n      throw new Error(data.message || '获取用户列表失败');\n    }\n    const data = await response.json();\n    setUsers(data);\n  };\n  const fetchLogs = async () => {\n    const response = await authFetch('/api/logs');\n    if (!response.ok) {\n      const data = await response.json();\n      if (response.status === 403) {\n        navigate('/user-dashboard');\n      }\n      throw new Error(data.message || '获取日志失败');\n    }\n    const data = await response.json();\n    setLogs(data);\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleString('zh-CN');\n  };\n  const handleSaveUser = async updatedData => {\n    try {\n      const response = await authFetch(`/api/users/${editingUser._id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updatedData)\n      });\n      if (!response || !response.json) {\n        throw new Error('无效的服务器响应');\n      }\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || `请求失败 (${response.status})`);\n      }\n      await fetchUsers();\n      setEditingUser(null);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  const userColumns = [{\n    title: '用户',\n    dataIndex: 'username',\n    key: 'username',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        size: \"small\",\n        src: record.avatar,\n        icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 19\n        }, this),\n        style: {\n          backgroundColor: '#1890ff'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        strong: true,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '邮箱',\n    dataIndex: 'email',\n    key: 'email'\n  }, {\n    title: '角色',\n    dataIndex: 'isAdmin',\n    key: 'role',\n    render: isAdmin => /*#__PURE__*/_jsxDEV(Tag, {\n      color: isAdmin ? 'geekblue' : 'green',\n      icon: isAdmin ? /*#__PURE__*/_jsxDEV(CloudServerOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 69\n      }, this) : /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 95\n      }, this),\n      children: isAdmin ? '管理员' : '普通用户'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '状态',\n    dataIndex: 'status',\n    key: 'status',\n    render: status => {\n      let color, icon, text;\n      if (status === 'active') {\n        color = 'success';\n        icon = /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 18\n        }, this);\n        text = '活跃';\n      } else if (status === 'suspended') {\n        color = 'error';\n        icon = /*#__PURE__*/_jsxDEV(CloseCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 18\n        }, this);\n        text = '已停用';\n      } else {\n        color = 'default';\n        text = '未激活';\n      }\n      return /*#__PURE__*/_jsxDEV(Tag, {\n        color: color,\n        icon: icon,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 16\n      }, this);\n    }\n  }, {\n    title: '注册时间',\n    dataIndex: 'createdAt',\n    key: 'createdAt',\n    render: date => formatDate(date)\n  }, {\n    title: '最后登录',\n    dataIndex: 'lastLogin',\n    key: 'lastLogin',\n    render: date => date ? formatDate(date) : '从未登录'\n  }, {\n    title: '操作',\n    key: 'action',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Button, {\n      type: \"link\",\n      icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }, this),\n      onClick: e => {\n        e.stopPropagation();\n        setEditingUser(record);\n      },\n      children: \"\\u7F16\\u8F91\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this)\n  }];\n  const logColumns = [{\n    title: '用户',\n    dataIndex: 'username',\n    key: 'username',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 19\n        }, this),\n        style: {\n          backgroundColor: record.successful ? '#52c41a' : '#f5222d'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        strong: true,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '操作',\n    dataIndex: 'action',\n    key: 'action',\n    render: action => {\n      let text, icon;\n      switch (action) {\n        case 'login':\n          text = '登录';\n          icon = /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 20\n          }, this);\n          break;\n        case 'register':\n          text = '注册';\n          icon = /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 20\n          }, this);\n          break;\n        case 'logout':\n          text = '登出';\n          icon = /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 20\n          }, this);\n          break;\n        default:\n          text = '密码重置';\n          icon = /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 20\n          }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(Tag, {\n        icon: icon,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 16\n      }, this);\n    }\n  }, {\n    title: '用户类型',\n    dataIndex: 'userType',\n    key: 'userType',\n    render: userType => /*#__PURE__*/_jsxDEV(Tag, {\n      color: userType === 'admin' ? 'geekblue' : 'green',\n      children: userType === 'admin' ? '管理员' : '普通用户'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '状态',\n    dataIndex: 'successful',\n    key: 'status',\n    render: (successful, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Badge, {\n        status: successful ? \"success\" : \"error\",\n        text: successful ? '成功' : '失败'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this), !successful && record.failureReason && /*#__PURE__*/_jsxDEV(Text, {\n        type: \"secondary\",\n        children: [\"(\", record.failureReason, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: 'IP地址',\n    dataIndex: 'ipAddress',\n    key: 'ipAddress',\n    render: ip => ip || '-'\n  }, {\n    title: '时间',\n    dataIndex: 'timestamp',\n    key: 'timestamp',\n    render: date => formatDate(date)\n  }];\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"min-h-screen bg-gradient-to-br from-[#001529] to-[#003366]\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      className: \"flex items-center justify-between bg-transparent border-b border-blue-800 px-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mr-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center mr-3\",\n            children: /*#__PURE__*/_jsxDEV(DashboardOutlined, {\n              className: \"text-white text-xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            level: 3,\n            className: \"mb-0 text-white\",\n            children: \"\\u667A\\u80FD\\u6D77\\u6D0B\\u517B\\u6B96\\u7BA1\\u7406\\u5E73\\u53F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"text\",\n            icon: /*#__PURE__*/_jsxDEV(LineChartOutlined, {\n              className: \"text-blue-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 21\n            }, this),\n            className: \"text-blue-200 hover:text-white\",\n            children: \"\\u7CFB\\u7EDF\\u76D1\\u63A7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"text\",\n            icon: /*#__PURE__*/_jsxDEV(CloudServerOutlined, {\n              className: \"text-blue-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 21\n            }, this),\n            className: \"text-blue-200 hover:text-white\",\n            children: \"\\u670D\\u52A1\\u5668\\u72B6\\u6001\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mr-4 text-right\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            className: \"text-blue-200 block\",\n            children: \"\\u7BA1\\u7406\\u5458\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            className: \"text-white\",\n            children: userInfo.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n          size: \"large\",\n          src: userInfo.avatar,\n          icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 19\n          }, this),\n          className: \"bg-gradient-to-r from-cyan-500 to-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",\n          children: /*#__PURE__*/_jsxDEV(Statistic, {\n            title: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-300\",\n              children: \"\\u7528\\u6237\\u603B\\u6570\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 22\n            }, this),\n            value: stats.totalUsers || 0,\n            valueStyle: {\n              color: '#fff'\n            },\n            prefix: /*#__PURE__*/_jsxDEV(TeamOutlined, {\n              className: \"text-blue-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",\n          children: /*#__PURE__*/_jsxDEV(Statistic, {\n            title: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-300\",\n              children: \"\\u6D3B\\u8DC3\\u7528\\u6237\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 22\n            }, this),\n            value: stats.activeUsers || 0,\n            valueStyle: {\n              color: '#fff'\n            },\n            prefix: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {\n              className: \"text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",\n          children: /*#__PURE__*/_jsxDEV(Statistic, {\n            title: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-300\",\n              children: \"\\u4ECA\\u65E5\\u767B\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 22\n            }, this),\n            value: stats.todayLogins || 0,\n            valueStyle: {\n              color: '#fff'\n            },\n            prefix: /*#__PURE__*/_jsxDEV(HistoryOutlined, {\n              className: \"text-blue-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",\n          children: /*#__PURE__*/_jsxDEV(Statistic, {\n            title: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-300\",\n              children: \"\\u7CFB\\u7EDF\\u72B6\\u6001\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 22\n            }, this),\n            value: \"\\u8FD0\\u884C\\u4E2D\",\n            valueStyle: {\n              color: '#52c41a'\n            },\n            prefix: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {\n              className: \"text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"bg-blue-900/30 border border-blue-700/30 backdrop-blur-sm\",\n        bodyStyle: {\n          padding: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          activeKey: activeTab,\n          onChange: setActiveTab,\n          className: \"custom-admin-tabs\",\n          tabBarStyle: {\n            padding: '0 24px',\n            background: 'linear-gradient(90deg, rgba(0,21,41,0.8) 0%, rgba(0,33,64,0.8) 100%)',\n            margin: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(TabPane, {\n            tab: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-200 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(TeamOutlined, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), \" \\u7528\\u6237\\u7BA1\\u7406\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center items-center h-64\",\n                children: /*#__PURE__*/_jsxDEV(Spin, {\n                  size: \"large\",\n                  tip: \"\\u52A0\\u8F7D\\u7528\\u6237\\u6570\\u636E...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n                message: error,\n                type: \"error\",\n                showIcon: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Table, {\n                columns: userColumns,\n                dataSource: users,\n                rowKey: \"_id\",\n                rowClassName: \"cursor-pointer hover:bg-blue-800/20\",\n                onRow: record => ({\n                  onClick: () => setEditingUser(record)\n                }),\n                pagination: {\n                  pageSize: 8,\n                  showSizeChanger: false,\n                  className: 'custom-pagination'\n                },\n                locale: {\n                  emptyText: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"py-12 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-blue-300 mb-2\",\n                      children: \"\\u6CA1\\u6709\\u7528\\u6237\\u6570\\u636E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"primary\",\n                      children: \"\\u6DFB\\u52A0\\u65B0\\u7528\\u6237\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 25\n                  }, this)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)\n          }, \"users\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n            tab: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-200 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(HistoryOutlined, {\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this), \" \\u7CFB\\u7EDF\\u65E5\\u5FD7\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center items-center h-64\",\n                children: /*#__PURE__*/_jsxDEV(Spin, {\n                  size: \"large\",\n                  tip: \"\\u52A0\\u8F7D\\u65E5\\u5FD7\\u6570\\u636E...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n                message: error,\n                type: \"error\",\n                showIcon: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Table, {\n                columns: logColumns,\n                dataSource: logs,\n                rowKey: \"_id\",\n                pagination: {\n                  pageSize: 8,\n                  showSizeChanger: false,\n                  className: 'custom-pagination'\n                },\n                locale: {\n                  emptyText: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"py-12 text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-blue-300 mb-2\",\n                      children: \"\\u6CA1\\u6709\\u65E5\\u5FD7\\u6570\\u636E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Text, {\n                      type: \"secondary\",\n                      children: \"\\u7CFB\\u7EDF\\u8FD0\\u884C\\u65E5\\u5FD7\\u5C06\\u663E\\u793A\\u5728\\u8FD9\\u91CC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)\n          }, \"logs\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), editingUser && /*#__PURE__*/_jsxDEV(UserEditModal, {\n      user: editingUser,\n      onClose: () => setEditingUser(null),\n      onSave: handleSaveUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      global: true,\n      children: `\n        .custom-admin-tabs .ant-tabs-nav::before {\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-tab {\n          padding: 16px 0 !important;\n          margin: 0 20px !important;\n          color: rgba(255, 255, 255, 0.65) !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-tab-active {\n          color: #1890ff !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-ink-bar {\n          background: #1890ff;\n          height: 3px !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-tab:hover {\n          color: #1890ff !important;\n        }\n        \n        .ant-table {\n          background: transparent !important;\n          color: rgba(255, 255, 255, 0.85) !important;\n        }\n        \n        .ant-table-thead > tr > th {\n          background: rgba(0, 33, 64, 0.5) !important;\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\n          color: #8dc6ff !important;\n        }\n        \n        .ant-table-tbody > tr > td {\n          border-bottom: 1px solid rgba(24, 144, 255, 0.15) !important;\n          background: rgba(0, 33, 64, 0.2) !important;\n        }\n        \n        .ant-table-tbody > tr.ant-table-row:hover > td {\n          background: rgba(24, 144, 255, 0.1) !important;\n        }\n        \n        .custom-pagination .ant-pagination-item,\n        .custom-pagination .ant-pagination-prev,\n        .custom-pagination .ant-pagination-next {\n          background: rgba(0, 33, 64, 0.3) !important;\n          border: 1px solid rgba(24, 144, 255, 0.2) !important;\n          color: #8dc6ff !important;\n        }\n        \n        .custom-pagination .ant-pagination-item a {\n          color: #8dc6ff !important;\n        }\n        \n        .custom-pagination .ant-pagination-item-active {\n          background: #1890ff !important;\n          border-color: #1890ff !important;\n        }\n        \n        .custom-pagination .ant-pagination-item-active a {\n          color: white !important;\n        }\n        \n        .ant-tag {\n          background: rgba(24, 144, 255, 0.15) !important;\n          color: #8dc6ff !important;\n          border: none !important;\n          border-radius: 4px !important;\n          padding: 2px 8px !important;\n        }\n        \n        .ant-statistic-title {\n          color: #8dc6ff !important;\n        }\n        \n        .ant-statistic-content {\n          color: white !important;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"wc41YCTEyTSM9haY+P+Kh8HfN/s=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","UserEditModal","Layout","Card","Tabs","Table","Tag","Spin","Alert","Avatar","Button","Space","Typography","Statistic","Badge","UserOutlined","TeamOutlined","HistoryOutlined","CheckCircleOutlined","CloseCircleOutlined","EditOutlined","LockOutlined","LineChartOutlined","DashboardOutlined","CloudServerOutlined","jsxDEV","_jsxDEV","Header","Content","Title","Text","TabPane","AdminDashboard","_s","userInfo","logout","authFetch","activeTab","setActiveTab","users","setUsers","logs","setLogs","loading","setLoading","error","setError","editingUser","setEditingUser","stats","setStats","navigate","isAdmin","fetchData","fetchDashboardStats","response","ok","Error","data","json","err","console","tab","fetchUsers","fetchLogs","message","includes","status","formatDate","dateString","date","Date","toLocaleString","handleSaveUser","updatedData","_id","method","headers","body","JSON","stringify","userColumns","title","dataIndex","key","render","text","record","children","size","src","avatar","icon","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","strong","color","_","type","onClick","e","stopPropagation","logColumns","successful","action","userType","failureReason","ip","className","level","username","value","totalUsers","valueStyle","prefix","activeUsers","todayLogins","bodyStyle","padding","activeKey","onChange","tabBarStyle","background","margin","tip","showIcon","columns","dataSource","rowKey","rowClassName","onRow","pagination","pageSize","showSizeChanger","locale","emptyText","user","onClose","onSave","jsx","global","_c","$RefreshReg$"],"sources":["D:/软件工程/智慧海洋牧场可视化系统/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport UserEditModal from '../components/UserEditModal';\r\nimport { \r\n  Layout, Card, Tabs, Table, Tag, Spin, Alert, Avatar, \r\n  Button, Space, Typography, Statistic, Badge\r\n} from 'antd';\r\nimport { \r\n  UserOutlined, TeamOutlined, HistoryOutlined, \r\n  CheckCircleOutlined, CloseCircleOutlined, \r\n  EditOutlined, LockOutlined, LineChartOutlined,\r\n  DashboardOutlined, CloudServerOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Header, Content } = Layout;\r\nconst { Title, Text } = Typography;\r\nconst { TabPane } = Tabs;\r\n\r\nconst AdminDashboard = () => {\r\n  const { userInfo, logout, authFetch } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('users');\r\n  const [users, setUsers] = useState([]);\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [stats, setStats] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!userInfo || !userInfo.isAdmin) {\r\n      navigate('/user-dashboard');\r\n      return;\r\n    }\r\n    \r\n    fetchData(activeTab);\r\n    fetchDashboardStats();\r\n  }, [activeTab, navigate, userInfo]);\r\n\r\n  const fetchDashboardStats = async () => {\r\n    try {\r\n      const response = await authFetch('/api/stats');\r\n      if (!response.ok) throw new Error('获取统计数据失败');\r\n      const data = await response.json();\r\n      setStats(data);\r\n    } catch (err) {\r\n      console.error('获取统计数据失败:', err);\r\n    }\r\n  };\r\n\r\n  const fetchData = async (tab) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      if (tab === 'users') {\r\n        await fetchUsers();\r\n      } else if (tab === 'logs') {\r\n        await fetchLogs();\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || '获取数据失败');\r\n      if (err.message.includes('权限') || err.message.includes('访问被拒绝')) {\r\n        navigate('/user-dashboard');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    const response = await authFetch('/api/users');\r\n    if (!response.ok) {\r\n      const data = await response.json();\r\n      if (response.status === 403) {\r\n        navigate('/user-dashboard');\r\n      }\r\n      throw new Error(data.message || '获取用户列表失败');\r\n    }\r\n    const data = await response.json();\r\n    setUsers(data);\r\n  };\r\n\r\n  const fetchLogs = async () => {\r\n    const response = await authFetch('/api/logs');\r\n    if (!response.ok) {\r\n      const data = await response.json();\r\n      if (response.status === 403) {\r\n        navigate('/user-dashboard');\r\n      }\r\n      throw new Error(data.message || '获取日志失败');\r\n    }\r\n    const data = await response.json();\r\n    setLogs(data);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString('zh-CN');\r\n  };\r\n\r\n  const handleSaveUser = async (updatedData) => {\r\n    try {\r\n      const response = await authFetch(`/api/users/${editingUser._id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(updatedData)\r\n      });\r\n  \r\n      if (!response || !response.json) {\r\n        throw new Error('无效的服务器响应');\r\n      }\r\n  \r\n      const data = await response.json();\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(data.message || `请求失败 (${response.status})`);\r\n      }\r\n  \r\n      await fetchUsers();\r\n      setEditingUser(null);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const userColumns = [\r\n    {\r\n      title: '用户',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      render: (text, record) => (\r\n        <Space>\r\n          <Avatar \r\n            size=\"small\" \r\n            src={record.avatar} \r\n            icon={<UserOutlined />}\r\n            style={{ backgroundColor: '#1890ff' }}\r\n          />\r\n          <Text strong>{text}</Text>\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '邮箱',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: '角色',\r\n      dataIndex: 'isAdmin',\r\n      key: 'role',\r\n      render: (isAdmin) => (\r\n        <Tag color={isAdmin ? 'geekblue' : 'green'} icon={isAdmin ? <CloudServerOutlined /> : <UserOutlined />}>\r\n          {isAdmin ? '管理员' : '普通用户'}\r\n        </Tag>\r\n      )\r\n    },\r\n    {\r\n      title: '状态',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      render: (status) => {\r\n        let color, icon, text;\r\n        if (status === 'active') {\r\n          color = 'success';\r\n          icon = <CheckCircleOutlined />;\r\n          text = '活跃';\r\n        } else if (status === 'suspended') {\r\n          color = 'error';\r\n          icon = <CloseCircleOutlined />;\r\n          text = '已停用';\r\n        } else {\r\n          color = 'default';\r\n          text = '未激活';\r\n        }\r\n        return <Tag color={color} icon={icon}>{text}</Tag>;\r\n      }\r\n    },\r\n    {\r\n      title: '注册时间',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      render: (date) => formatDate(date)\r\n    },\r\n    {\r\n      title: '最后登录',\r\n      dataIndex: 'lastLogin',\r\n      key: 'lastLogin',\r\n      render: (date) => date ? formatDate(date) : '从未登录'\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      render: (_, record) => (\r\n        <Button \r\n          type=\"link\" \r\n          icon={<EditOutlined />} \r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            setEditingUser(record);\r\n          }}\r\n        >\r\n          编辑\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const logColumns = [\r\n    {\r\n      title: '用户',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      render: (text, record) => (\r\n        <Space>\r\n          <Avatar \r\n            size=\"small\" \r\n            icon={<UserOutlined />}\r\n            style={{ backgroundColor: record.successful ? '#52c41a' : '#f5222d' }}\r\n          />\r\n          <Text strong>{text}</Text>\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '操作',\r\n      dataIndex: 'action',\r\n      key: 'action',\r\n      render: (action) => {\r\n        let text, icon;\r\n        switch(action) {\r\n          case 'login': \r\n            text = '登录'; \r\n            icon = <LockOutlined />;\r\n            break;\r\n          case 'register': \r\n            text = '注册'; \r\n            icon = <UserOutlined />;\r\n            break;\r\n          case 'logout': \r\n            text = '登出'; \r\n            icon = <LockOutlined />;\r\n            break;\r\n          default: \r\n            text = '密码重置';\r\n            icon = <LockOutlined />;\r\n        }\r\n        return <Tag icon={icon}>{text}</Tag>;\r\n      }\r\n    },\r\n    {\r\n      title: '用户类型',\r\n      dataIndex: 'userType',\r\n      key: 'userType',\r\n      render: (userType) => (\r\n        <Tag color={userType === 'admin' ? 'geekblue' : 'green'}>\r\n          {userType === 'admin' ? '管理员' : '普通用户'}\r\n        </Tag>\r\n      )\r\n    },\r\n    {\r\n      title: '状态',\r\n      dataIndex: 'successful',\r\n      key: 'status',\r\n      render: (successful, record) => (\r\n        <Space>\r\n          <Badge \r\n            status={successful ? \"success\" : \"error\"} \r\n            text={successful ? '成功' : '失败'} \r\n          />\r\n          {!successful && record.failureReason && (\r\n            <Text type=\"secondary\">({record.failureReason})</Text>\r\n          )}\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: 'IP地址',\r\n      dataIndex: 'ipAddress',\r\n      key: 'ipAddress',\r\n      render: (ip) => ip || '-'\r\n    },\r\n    {\r\n      title: '时间',\r\n      dataIndex: 'timestamp',\r\n      key: 'timestamp',\r\n      render: (date) => formatDate(date)\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Layout className=\"min-h-screen bg-gradient-to-br from-[#001529] to-[#003366]\">\r\n      <Header className=\"flex items-center justify-between bg-transparent border-b border-blue-800 px-6\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"flex items-center mr-6\">\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center mr-3\">\r\n              <DashboardOutlined className=\"text-white text-xl\" />\r\n            </div>\r\n            <Title level={3} className=\"mb-0 text-white\">智能海洋养殖管理平台</Title>\r\n          </div>\r\n          \r\n          <div className=\"flex space-x-6\">\r\n            <Button \r\n              type=\"text\" \r\n              icon={<LineChartOutlined className=\"text-blue-300\" />}\r\n              className=\"text-blue-200 hover:text-white\"\r\n            >\r\n              系统监控\r\n            </Button>\r\n            <Button \r\n              type=\"text\" \r\n              icon={<CloudServerOutlined className=\"text-blue-300\" />}\r\n              className=\"text-blue-200 hover:text-white\"\r\n            >\r\n              服务器状态\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center\">\r\n          <div className=\"mr-4 text-right\">\r\n            <Text className=\"text-blue-200 block\">管理员</Text>\r\n            <Text strong className=\"text-white\">{userInfo.username}</Text>\r\n          </div>\r\n          <Avatar \r\n            size=\"large\" \r\n            src={userInfo.avatar} \r\n            icon={<UserOutlined />}\r\n            className=\"bg-gradient-to-r from-cyan-500 to-blue-500\"\r\n          />\r\n        </div>\r\n      </Header>\r\n      \r\n      <Content className=\"p-6\">\r\n        {/* 数据统计卡片 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">用户总数</span>}\r\n              value={stats.totalUsers || 0}\r\n              valueStyle={{ color: '#fff' }}\r\n              prefix={<TeamOutlined className=\"text-blue-300\" />}\r\n            />\r\n          </Card>\r\n          \r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">活跃用户</span>}\r\n              value={stats.activeUsers || 0}\r\n              valueStyle={{ color: '#fff' }}\r\n              prefix={<CheckCircleOutlined className=\"text-green-400\" />}\r\n            />\r\n          </Card>\r\n          \r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">今日登录</span>}\r\n              value={stats.todayLogins || 0}\r\n              valueStyle={{ color: '#fff' }}\r\n              prefix={<HistoryOutlined className=\"text-blue-300\" />}\r\n            />\r\n          </Card>\r\n          \r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">系统状态</span>}\r\n              value=\"运行中\"\r\n              valueStyle={{ color: '#52c41a' }}\r\n              prefix={<CheckCircleOutlined className=\"text-green-400\" />}\r\n            />\r\n          </Card>\r\n        </div>\r\n        \r\n        <Card \r\n          className=\"bg-blue-900/30 border border-blue-700/30 backdrop-blur-sm\"\r\n          bodyStyle={{ padding: 0 }}\r\n        >\r\n          <Tabs \r\n            activeKey={activeTab}\r\n            onChange={setActiveTab}\r\n            className=\"custom-admin-tabs\"\r\n            tabBarStyle={{ \r\n              padding: '0 24px', \r\n              background: 'linear-gradient(90deg, rgba(0,21,41,0.8) 0%, rgba(0,33,64,0.8) 100%)',\r\n              margin: 0\r\n            }}\r\n          >\r\n            <TabPane \r\n              tab={\r\n                <span className=\"text-blue-200 flex items-center\">\r\n                  <TeamOutlined className=\"mr-2\" /> 用户管理\r\n                </span>\r\n              } \r\n              key=\"users\"\r\n            >\r\n              <div className=\"p-6\">\r\n                {loading ? (\r\n                  <div className=\"flex justify-center items-center h-64\">\r\n                    <Spin size=\"large\" tip=\"加载用户数据...\" />\r\n                  </div>\r\n                ) : error ? (\r\n                  <Alert message={error} type=\"error\" showIcon />\r\n                ) : (\r\n                  <Table \r\n                    columns={userColumns}\r\n                    dataSource={users}\r\n                    rowKey=\"_id\"\r\n                    rowClassName=\"cursor-pointer hover:bg-blue-800/20\"\r\n                    onRow={(record) => ({\r\n                      onClick: () => setEditingUser(record),\r\n                    })}\r\n                    pagination={{ \r\n                      pageSize: 8, \r\n                      showSizeChanger: false,\r\n                      className: 'custom-pagination'\r\n                    }}\r\n                    locale={{\r\n                      emptyText: (\r\n                        <div className=\"py-12 text-center\">\r\n                          <div className=\"text-blue-300 mb-2\">没有用户数据</div>\r\n                          <Button type=\"primary\">添加新用户</Button>\r\n                        </div>\r\n                      )\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </TabPane>\r\n            \r\n            <TabPane \r\n              tab={\r\n                <span className=\"text-blue-200 flex items-center\">\r\n                  <HistoryOutlined className=\"mr-2\" /> 系统日志\r\n                </span>\r\n              } \r\n              key=\"logs\"\r\n            >\r\n              <div className=\"p-6\">\r\n                {loading ? (\r\n                  <div className=\"flex justify-center items-center h-64\">\r\n                    <Spin size=\"large\" tip=\"加载日志数据...\" />\r\n                  </div>\r\n                ) : error ? (\r\n                  <Alert message={error} type=\"error\" showIcon />\r\n                ) : (\r\n                  <Table \r\n                    columns={logColumns}\r\n                    dataSource={logs}\r\n                    rowKey=\"_id\"\r\n                    pagination={{ \r\n                      pageSize: 8, \r\n                      showSizeChanger: false,\r\n                      className: 'custom-pagination'\r\n                    }}\r\n                    locale={{\r\n                      emptyText: (\r\n                        <div className=\"py-12 text-center\">\r\n                          <div className=\"text-blue-300 mb-2\">没有日志数据</div>\r\n                          <Text type=\"secondary\">系统运行日志将显示在这里</Text>\r\n                        </div>\r\n                      )\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </TabPane>\r\n          </Tabs>\r\n        </Card>\r\n      </Content>\r\n      \r\n      {editingUser && (\r\n        <UserEditModal\r\n          user={editingUser}\r\n          onClose={() => setEditingUser(null)}\r\n          onSave={handleSaveUser}\r\n        />\r\n      )}\r\n      \r\n      <style jsx global>{`\r\n        .custom-admin-tabs .ant-tabs-nav::before {\r\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-tab {\r\n          padding: 16px 0 !important;\r\n          margin: 0 20px !important;\r\n          color: rgba(255, 255, 255, 0.65) !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-tab-active {\r\n          color: #1890ff !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-ink-bar {\r\n          background: #1890ff;\r\n          height: 3px !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-tab:hover {\r\n          color: #1890ff !important;\r\n        }\r\n        \r\n        .ant-table {\r\n          background: transparent !important;\r\n          color: rgba(255, 255, 255, 0.85) !important;\r\n        }\r\n        \r\n        .ant-table-thead > tr > th {\r\n          background: rgba(0, 33, 64, 0.5) !important;\r\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .ant-table-tbody > tr > td {\r\n          border-bottom: 1px solid rgba(24, 144, 255, 0.15) !important;\r\n          background: rgba(0, 33, 64, 0.2) !important;\r\n        }\r\n        \r\n        .ant-table-tbody > tr.ant-table-row:hover > td {\r\n          background: rgba(24, 144, 255, 0.1) !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item,\r\n        .custom-pagination .ant-pagination-prev,\r\n        .custom-pagination .ant-pagination-next {\r\n          background: rgba(0, 33, 64, 0.3) !important;\r\n          border: 1px solid rgba(24, 144, 255, 0.2) !important;\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item a {\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item-active {\r\n          background: #1890ff !important;\r\n          border-color: #1890ff !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item-active a {\r\n          color: white !important;\r\n        }\r\n        \r\n        .ant-tag {\r\n          background: rgba(24, 144, 255, 0.15) !important;\r\n          color: #8dc6ff !important;\r\n          border: none !important;\r\n          border-radius: 4px !important;\r\n          padding: 2px 8px !important;\r\n        }\r\n        \r\n        .ant-statistic-title {\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .ant-statistic-content {\r\n          color: white !important;\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}