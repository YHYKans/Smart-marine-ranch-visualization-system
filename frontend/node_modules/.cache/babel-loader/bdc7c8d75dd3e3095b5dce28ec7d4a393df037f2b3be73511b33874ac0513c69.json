{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Row,Col,Card,Select,Button,Spin,message}from'antd';import{Line,Pie}from'react-chartjs-2';import moment from'moment';import Chart from'chart.js/auto';// 自动注册所有组件\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;const transformChartData=(backendData,chartType)=>{if(!backendData)return null;if(chartType==='line'){return{labels:backendData.x||[],datasets:(backendData.datasets||[]).map(dataset=>({...dataset,data:dataset.data||[]}))};}if(chartType==='pie'){return{labels:backendData.labels||[],datasets:[{data:backendData.values||[],backgroundColor:backendData.backgroundColor||[],borderColor:backendData.borderColor||[],borderWidth:backendData.borderWidth||1}]};}return null;};function Underwater(){// 定义日期范围常量\nconst minDate='2020-05-08';const maxDate='2021-04-05';const[selectedDate,setSelectedDate]=useState(minDate);// 使用minDate初始化\nconst[lineChartData,setLineChartData]=useState(null);const[pieChartData,setPieChartData]=useState(null);const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const[selectedMetric,setSelectedMetric]=useState('');const[availableMetrics,setAvailableMetrics]=useState(['断面名称','水温(℃)','pH(无量纲)','溶解氧(mg/L)','电导率(μS/cm)','浊度(NTU)','高锰酸盐指数(mg/L)','氨氮(mg/L)','总磷(mg/L)','总氮(mg/L)','叶绿素α(mg/L)','藻密度(cells/L)']);// 用于存储Chart实例的引用\nconst lineChartRef=useRef(null);const pieChartRef=useRef(null);const generateFilePath=dateString=>{const date=new Date(dateString);const year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,'0');const day=String(date.getDate()).padStart(2,'0');return`config/软件工程大作业数据/水质数据/${year}-${month}/${year}-${month}-${day}.json`;};const handleSubmit=async e=>{e.preventDefault();setError('');setIsLoading(true);try{const filePath=generateFilePath(selectedDate);const response=await fetch('http://localhost:3001/visualize-water',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({file_path:filePath,target_column:selectedMetric})});if(!response.ok)throw new Error(await response.text());const data=await response.json();console.log('后端数据:',data);if(data.error)throw new Error(data.error);// 转换数据格式\nsetLineChartData(transformChartData(data.line_chart_data,'line'));setPieChartData(transformChartData(data.pie_chart_data,'pie'));setAvailableMetrics(data.available_metrics||availableMetrics);}catch(err){setError(err.message);message.error(err.message);setLineChartData(null);setPieChartData(null);}finally{setIsLoading(false);}};const formatDate=dateString=>{return moment(dateString).format('YYYY年MM月DD日');};// 组件卸载时销毁Chart实例\nuseEffect(()=>{return()=>{if(lineChartRef.current){lineChartRef.current.destroy();}if(pieChartRef.current){pieChartRef.current.destroy();}};},[]);// 数据更新时更新Chart实例\nuseEffect(()=>{if(lineChartData&&lineChartRef.current){lineChartRef.current.data=lineChartData;lineChartRef.current.update();}if(pieChartData&&pieChartRef.current){pieChartRef.current.data=pieChartData;pieChartRef.current.update();}},[lineChartData,pieChartData]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'30px',backgroundColor:'#f0f2f5'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center',color:'#1890ff',marginBottom:'40px',fontSize:'2.5rem',fontWeight:'600',textShadow:'0 2px 4px rgba(0,0,0,0.1)'},children:\"\\u6C34\\u4E0B\\u73AF\\u5883\\u76D1\\u6D4B\\u53EF\\u89C6\\u5316\\u7CFB\\u7EDF\"}),/*#__PURE__*/_jsxs(Spin,{spinning:isLoading,tip:\"\\u6B63\\u5728\\u5206\\u6790\\u6C34\\u8D28\\u6570\\u636E...\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,style:{marginBottom:'40px'},children:/*#__PURE__*/_jsxs(Row,{gutter:24,justify:\"center\",children:[/*#__PURE__*/_jsxs(Col,{xs:24,sm:12,md:8,children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),min:minDate,max:maxDate,style:{width:'100%',padding:'12px 16px',border:'1px solid #d9d9d9',borderRadius:'8px',fontSize:'16px',boxShadow:'0 1px 3px rgba(0,0,0,0.05)'},placeholder:\"\\u9009\\u62E9\\u65E5\\u671F\"}),/*#__PURE__*/_jsxs(\"span\",{style:{display:'block',marginTop:'12px',color:'#666',fontSize:'14px'},children:[\"\\u9009\\u62E9\\u65E5\\u671F: \",formatDate(selectedDate)]})]}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:8,children:/*#__PURE__*/_jsxs(Select,{value:selectedMetric,onChange:value=>setSelectedMetric(value),style:{width:'100%',height:'52px',fontSize:'16px'},placeholder:\"\\u9009\\u62E9\\u76D1\\u6D4B\\u6307\\u6807\",children:[/*#__PURE__*/_jsx(Option,{value:\"\",children:\"\\u663E\\u793A\\u5168\\u90E8\\u6307\\u6807\"}),availableMetrics.map((metric,index)=>/*#__PURE__*/_jsx(Option,{value:metric,children:metric},index))]})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:24,md:8,style:{textAlign:'center',marginTop:'32px'},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",onClick:handleSubmit,loading:isLoading,style:{width:'200px',height:'56px',fontSize:'18px',fontWeight:'500',backgroundColor:'#1890ff',borderColor:'#1890ff',boxShadow:'0 4px 12px rgba(24, 144, 255, 0.3)',borderRadius:'8px',transition:'all 0.3s ease'},hoverStyle:{backgroundColor:'#0d75aa',borderColor:'#0d75aa',boxShadow:'0 6px 16px rgba(24, 144, 255, 0.4)'},children:isLoading?'数据生成中...':'开始可视化分析'})})]})}),error&&/*#__PURE__*/_jsx(Card,{style:{marginBottom:'20px',borderColor:'#f5222d'},title:/*#__PURE__*/_jsx(\"span\",{style:{color:'#f5222d'},children:\"\\u26A0\\uFE0F \\u9519\\u8BEF\\u63D0\\u793A\"}),children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#f5222d'},children:error})}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[lineChartData&&/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Card,{title:\"\\u6C34\\u8D28\\u53C2\\u6570\\u8D8B\\u52BF\\u5206\\u6790\",bordered:true,children:/*#__PURE__*/_jsx(\"div\",{style:{height:'400px'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:el=>{if(!el||!lineChartData)return;if(lineChartRef.current){lineChartRef.current.destroy();}lineChartRef.current=new Chart(el,{type:'line',data:lineChartData,options:{responsive:true,maintainAspectRatio:false,interaction:{intersect:false,mode:'index'},plugins:{legend:{position:'top'},tooltip:{callbacks:{label:context=>{return`${context.dataset.label}: ${context.parsed.y}`;}}}},scales:{x:{title:{display:true,text:'时间'}},y:{title:{display:true,text:'数值'}}}}});}})})})}),pieChartData&&/*#__PURE__*/_jsx(Col,{xs:24,md:12,children:/*#__PURE__*/_jsx(Card,{title:\"\\u6C34\\u8D28\\u7C7B\\u522B\\u5206\\u5E03\\u7EDF\\u8BA1\",bordered:true,children:/*#__PURE__*/_jsx(\"div\",{style:{height:'400px',position:'relative'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:el=>{if(!el||!pieChartData)return;// 确保元素和数据存在\n// 销毁旧图表实例\nif(pieChartRef.current){pieChartRef.current.destroy();}// 创建新图表实例（添加你提供的配置）\npieChartRef.current=new Chart(el.getContext('2d'),{type:'pie',data:{// 确保数据格式正确\nlabels:pieChartData.labels,datasets:[{data:pieChartData.values,backgroundColor:pieChartData.backgroundColor,borderColor:pieChartData.borderColor,borderWidth:pieChartData.borderWidth}]},options:{// 这是你要添加的配置\nresponsive:true,maintainAspectRatio:false,layout:{padding:{top:20,bottom:20,left:20,right:20}},plugins:{legend:{position:'right',labels:{font:{size:12}}}}}});}})})})})]})]})]});}export default Underwater;","map":{"version":3,"names":["React","useState","useRef","useEffect","Row","Col","Card","Select","Button","Spin","message","Line","Pie","moment","Chart","jsx","_jsx","jsxs","_jsxs","Option","transformChartData","backendData","chartType","labels","x","datasets","map","dataset","data","values","backgroundColor","borderColor","borderWidth","Underwater","minDate","maxDate","selectedDate","setSelectedDate","lineChartData","setLineChartData","pieChartData","setPieChartData","error","setError","isLoading","setIsLoading","selectedMetric","setSelectedMetric","availableMetrics","setAvailableMetrics","lineChartRef","pieChartRef","generateFilePath","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","handleSubmit","e","preventDefault","filePath","response","fetch","method","headers","body","JSON","stringify","file_path","target_column","ok","Error","text","json","console","log","line_chart_data","pie_chart_data","available_metrics","err","formatDate","format","current","destroy","update","style","padding","children","textAlign","color","marginBottom","fontSize","fontWeight","textShadow","spinning","tip","onSubmit","gutter","justify","xs","sm","md","type","value","onChange","target","min","max","width","border","borderRadius","boxShadow","placeholder","display","marginTop","height","metric","index","size","onClick","loading","transition","hoverStyle","title","bordered","ref","el","options","responsive","maintainAspectRatio","interaction","intersect","mode","plugins","legend","position","tooltip","callbacks","label","context","parsed","y","scales","getContext","layout","top","bottom","left","right","font"],"sources":["D:/软件工程/智慧海洋牧场可视化系统/frontend/src/pages/Underwater.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Row, Col, Card, Select, Button, Spin, message } from 'antd';\r\nimport { Line, Pie } from 'react-chartjs-2';\r\nimport moment from 'moment';\r\nimport Chart from 'chart.js/auto'; // 自动注册所有组件\r\n\r\nconst { Option } = Select;\r\n\r\nconst transformChartData = (backendData, chartType) => {\r\n  if (!backendData) return null;\r\n\r\n  if (chartType === 'line') {\r\n    return {\r\n      labels: backendData.x || [],\r\n      datasets: (backendData.datasets || []).map(dataset => ({\r\n        ...dataset,\r\n        data: dataset.data || []\r\n      }))\r\n    };\r\n  }\r\n\r\n  if (chartType === 'pie') {\r\n    return {\r\n      labels: backendData.labels || [],\r\n      datasets: [{\r\n        data: backendData.values || [],\r\n        backgroundColor: backendData.backgroundColor || [],\r\n        borderColor: backendData.borderColor || [],\r\n        borderWidth: backendData.borderWidth || 1\r\n      }]\r\n    };\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nfunction Underwater() {\r\n  // 定义日期范围常量\r\n  const minDate = '2020-05-08';\r\n  const maxDate = '2021-04-05';\r\n\r\n  const [selectedDate, setSelectedDate] = useState(minDate); // 使用minDate初始化\r\n  const [lineChartData, setLineChartData] = useState(null);\r\n  const [pieChartData, setPieChartData] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedMetric, setSelectedMetric] = useState('');\r\n  const [availableMetrics, setAvailableMetrics] = useState([\r\n    '断面名称', '水温(℃)', 'pH(无量纲)', '溶解氧(mg/L)',\r\n    '电导率(μS/cm)', '浊度(NTU)', '高锰酸盐指数(mg/L)',\r\n    '氨氮(mg/L)', '总磷(mg/L)', '总氮(mg/L)', '叶绿素α(mg/L)', '藻密度(cells/L)'\r\n  ]);\r\n\r\n  // 用于存储Chart实例的引用\r\n  const lineChartRef = useRef(null);\r\n  const pieChartRef = useRef(null);\r\n\r\n  const generateFilePath = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    return `config/软件工程大作业数据/水质数据/${year}-${month}/${year}-${month}-${day}.json`;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const filePath = generateFilePath(selectedDate);\r\n\r\n      const response = await fetch('http://localhost:3001/visualize-water', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ file_path: filePath, target_column: selectedMetric })\r\n      });\r\n\r\n      if (!response.ok) throw new Error(await response.text());\r\n\r\n      const data = await response.json();\r\n      console.log('后端数据:', data);\r\n\r\n      if (data.error) throw new Error(data.error);\r\n\r\n      // 转换数据格式\r\n      setLineChartData(transformChartData(data.line_chart_data, 'line'));\r\n      setPieChartData(transformChartData(data.pie_chart_data, 'pie'));\r\n      setAvailableMetrics(data.available_metrics || availableMetrics);\r\n\r\n    } catch (err) {\r\n      setError(err.message);\r\n      message.error(err.message);\r\n      setLineChartData(null);\r\n      setPieChartData(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return moment(dateString).format('YYYY年MM月DD日');\r\n  };\r\n\r\n  // 组件卸载时销毁Chart实例\r\n  useEffect(() => {\r\n    return () => {\r\n      if (lineChartRef.current) {\r\n        lineChartRef.current.destroy();\r\n      }\r\n      if (pieChartRef.current) {\r\n        pieChartRef.current.destroy();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // 数据更新时更新Chart实例\r\n  useEffect(() => {\r\n    if (lineChartData && lineChartRef.current) {\r\n      lineChartRef.current.data = lineChartData;\r\n      lineChartRef.current.update();\r\n    }\r\n\r\n    if (pieChartData && pieChartRef.current) {\r\n      pieChartRef.current.data = pieChartData;\r\n      pieChartRef.current.update();\r\n    }\r\n  }, [lineChartData, pieChartData]);\r\n\r\nreturn (\r\n  <div style={{ padding: '30px', backgroundColor: '#f0f2f5' }}>\r\n    {/* 优化后的标题样式 */}\r\n    <h1 style={{\r\n      textAlign: 'center',\r\n      color: '#1890ff',\r\n      marginBottom: '40px',\r\n      fontSize: '2.5rem',\r\n      fontWeight: '600',\r\n      textShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n    }}>\r\n      水下环境监测可视化系统\r\n    </h1>\r\n\r\n    <Spin spinning={isLoading} tip=\"正在分析水质数据...\">\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: '40px' }}>\r\n        <Row gutter={24} justify=\"center\">\r\n          <Col xs={24} sm={12} md={8}>\r\n            <input\r\n              type=\"date\"\r\n              value={selectedDate}\r\n              onChange={(e) => setSelectedDate(e.target.value)}\r\n              min={minDate}\r\n              max={maxDate}\r\n              style={{\r\n                width: '100%',\r\n                padding: '12px 16px',\r\n                border: '1px solid #d9d9d9',\r\n                borderRadius: '8px',\r\n                fontSize: '16px',\r\n                boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\r\n              }}\r\n              placeholder=\"选择日期\"\r\n            />\r\n            <span style={{\r\n              display: 'block',\r\n              marginTop: '12px',\r\n              color: '#666',\r\n              fontSize: '14px'\r\n            }}>\r\n              选择日期: {formatDate(selectedDate)}\r\n            </span>\r\n          </Col>\r\n          <Col xs={24} sm={12} md={8}>\r\n            <Select\r\n              value={selectedMetric}\r\n              onChange={(value) => setSelectedMetric(value)}\r\n              style={{\r\n                width: '100%',\r\n                height: '52px',\r\n                fontSize: '16px'\r\n              }}\r\n              placeholder=\"选择监测指标\"\r\n            >\r\n              <Option value=\"\">显示全部指标</Option>\r\n              {availableMetrics.map((metric, index) => (\r\n                <Option key={index} value={metric}>{metric}</Option>\r\n              ))}\r\n            </Select>\r\n          </Col>\r\n          <Col xs={24} sm={24} md={8} style={{ textAlign: 'center', marginTop: '32px' }}>\r\n            {/* 优化后的按钮样式 */}\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              onClick={handleSubmit}\r\n              loading={isLoading}\r\n              style={{\r\n                width: '200px',\r\n                height: '56px',\r\n                fontSize: '18px',\r\n                fontWeight: '500',\r\n                backgroundColor: '#1890ff',\r\n                borderColor: '#1890ff',\r\n                boxShadow: '0 4px 12px rgba(24, 144, 255, 0.3)',\r\n                borderRadius: '8px',\r\n                transition: 'all 0.3s ease'\r\n              }}\r\n              hoverStyle={{\r\n                backgroundColor: '#0d75aa',\r\n                borderColor: '#0d75aa',\r\n                boxShadow: '0 6px 16px rgba(24, 144, 255, 0.4)'\r\n              }}\r\n            >\r\n              {isLoading ? '数据生成中...' : '开始可视化分析'}\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </form>\r\n\r\n        {error && (\r\n          <Card\r\n            style={{ marginBottom: '20px', borderColor: '#f5222d' }}\r\n            title={<span style={{ color: '#f5222d' }}>⚠️ 错误提示</span>}\r\n          >\r\n            <p style={{ color: '#f5222d' }}>{error}</p>\r\n          </Card>\r\n        )}\r\n\r\n        <Row gutter={16}>\r\n            {lineChartData && (\r\n              <Col xs={24} md={12}>\r\n                <Card title=\"水质参数趋势分析\" bordered={true}>\r\n                  <div style={{ height: '400px' }}>\r\n                    <canvas ref={(el) => {\r\n                      if (!el || !lineChartData) return;\r\n\r\n                      if (lineChartRef.current) {\r\n                        lineChartRef.current.destroy();\r\n                      }\r\n\r\n                      lineChartRef.current = new Chart(el, {\r\n                        type: 'line',\r\n                        data: lineChartData,\r\n                        options: {\r\n                          responsive: true,\r\n                          maintainAspectRatio: false,\r\n                          interaction: {\r\n                            intersect: false,\r\n                            mode: 'index',\r\n                          },\r\n                          plugins: {\r\n                            legend: {\r\n                              position: 'top',\r\n                            },\r\n                            tooltip: {\r\n                              callbacks: {\r\n                                label: (context) => {\r\n                                  return `${context.dataset.label}: ${context.parsed.y}`;\r\n                                }\r\n                              }\r\n                            }\r\n                          },\r\n                          scales: {\r\n                            x: {\r\n                              title: {\r\n                                display: true,\r\n                                text: '时间'\r\n                              }\r\n                            },\r\n                            y: {\r\n                              title: {\r\n                                display: true,\r\n                                text: '数值'\r\n                              }\r\n                            }\r\n                          }\r\n                        }\r\n                      });\r\n                    }} />\r\n                  </div>\r\n                </Card>\r\n              </Col>\r\n            )}\r\n\r\n            {pieChartData && (\r\n              <Col xs={24} md={12}>\r\n                <Card title=\"水质类别分布统计\" bordered={true}>\r\n                  <div style={{ height: '400px', position: 'relative' }}>\r\n                    <canvas\r\n                      ref={(el) => {\r\n                        if (!el || !pieChartData) return; // 确保元素和数据存在\r\n\r\n                        // 销毁旧图表实例\r\n                        if (pieChartRef.current) {\r\n                          pieChartRef.current.destroy();\r\n                        }\r\n\r\n                        // 创建新图表实例（添加你提供的配置）\r\n                        pieChartRef.current = new Chart(el.getContext('2d'), {\r\n                          type: 'pie',\r\n                          data: { // 确保数据格式正确\r\n                            labels: pieChartData.labels,\r\n                            datasets: [{\r\n                              data: pieChartData.values,\r\n                              backgroundColor: pieChartData.backgroundColor,\r\n                              borderColor: pieChartData.borderColor,\r\n                              borderWidth: pieChartData.borderWidth\r\n                            }]\r\n                          },\r\n                          options: { // 这是你要添加的配置\r\n                            responsive: true,\r\n                            maintainAspectRatio: false,\r\n                            layout: {\r\n                              padding: {\r\n                                top: 20,\r\n                                bottom: 20,\r\n                                left: 20,\r\n                                right: 20\r\n                              }\r\n                            },\r\n                            plugins: {\r\n                              legend: {\r\n                                position: 'right',\r\n                                labels: {\r\n                                  font: {\r\n                                    size: 12\r\n                                  }\r\n                                }\r\n                              }\r\n                            }\r\n                          }\r\n                        });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Card>\r\n              </Col>\r\n            )}\r\n        </Row>\r\n      </Spin>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Underwater;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}