{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import UserEditModal from'../components/UserEditModal';import{Layout,Card,Tabs,Table,Tag,Spin,Alert,Avatar,Button,Space,Typography,Statistic,Badge}from'antd';import{UserOutlined,TeamOutlined,HistoryOutlined,CheckCircleOutlined,CloseCircleOutlined,EditOutlined,LockOutlined,LineChartOutlined,DashboardOutlined,CloudServerOutlined}from'@ant-design/icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Header,Content}=Layout;const{Title,Text}=Typography;const{TabPane}=Tabs;const AdminDashboard=()=>{const{userInfo,logout,authFetch}=useAuth();const[activeTab,setActiveTab]=useState('users');const[users,setUsers]=useState([]);const[logs,setLogs]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[editingUser,setEditingUser]=useState(null);const[stats,setStats]=useState({});const navigate=useNavigate();useEffect(()=>{if(!userInfo||!userInfo.isAdmin){navigate('/user-dashboard');return;}fetchData(activeTab);fetchDashboardStats();},[activeTab,navigate,userInfo]);const fetchDashboardStats=async()=>{try{const response=await authFetch('/api/stats');if(!response.ok)throw new Error('获取统计数据失败');const data=await response.json();setStats(data);}catch(err){console.error('获取统计数据失败:',err);}};const fetchData=async tab=>{setLoading(true);setError(null);try{if(tab==='users'){await fetchUsers();}else if(tab==='logs'){await fetchLogs();}}catch(err){setError(err.message||'获取数据失败');if(err.message.includes('权限')||err.message.includes('访问被拒绝')){navigate('/user-dashboard');}}finally{setLoading(false);}};const fetchUsers=async()=>{const response=await authFetch('/api/users');if(!response.ok){const data=await response.json();if(response.status===403){navigate('/user-dashboard');}throw new Error(data.message||'获取用户列表失败');}const data=await response.json();setUsers(data);};const fetchLogs=async()=>{const response=await authFetch('/api/logs');if(!response.ok){const data=await response.json();if(response.status===403){navigate('/user-dashboard');}throw new Error(data.message||'获取日志失败');}const data=await response.json();setLogs(data);};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleString('zh-CN');};const handleSaveUser=async updatedData=>{try{const response=await authFetch(`/api/users/${editingUser._id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(updatedData)});if(!response||!response.json){throw new Error('无效的服务器响应');}const data=await response.json();if(!response.ok){throw new Error(data.message||`请求失败 (${response.status})`);}await fetchUsers();setEditingUser(null);}catch(err){setError(err.message);}};const userColumns=[{title:'用户',dataIndex:'username',key:'username',render:(text,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Avatar,{size:\"small\",src:record.avatar,icon:/*#__PURE__*/_jsx(UserOutlined,{}),style:{backgroundColor:'#1890ff'}}),/*#__PURE__*/_jsx(Text,{strong:true,children:text})]})},{title:'邮箱',dataIndex:'email',key:'email'},{title:'角色',dataIndex:'isAdmin',key:'role',render:isAdmin=>/*#__PURE__*/_jsx(Tag,{color:isAdmin?'geekblue':'green',icon:isAdmin?/*#__PURE__*/_jsx(CloudServerOutlined,{}):/*#__PURE__*/_jsx(UserOutlined,{}),children:isAdmin?'管理员':'普通用户'})},{title:'状态',dataIndex:'status',key:'status',render:status=>{let color,icon,text;if(status==='active'){color='success';icon=/*#__PURE__*/_jsx(CheckCircleOutlined,{});text='活跃';}else if(status==='suspended'){color='error';icon=/*#__PURE__*/_jsx(CloseCircleOutlined,{});text='已停用';}else{color='default';text='未激活';}return/*#__PURE__*/_jsx(Tag,{color:color,icon:icon,children:text});}},{title:'注册时间',dataIndex:'createdAt',key:'createdAt',render:date=>formatDate(date)},{title:'最后登录',dataIndex:'lastLogin',key:'lastLogin',render:date=>date?formatDate(date):'从未登录'},{title:'操作',key:'action',render:(_,record)=>/*#__PURE__*/_jsx(Button,{type:\"link\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:e=>{e.stopPropagation();setEditingUser(record);},children:\"\\u7F16\\u8F91\"})}];const logColumns=[{title:'用户',dataIndex:'username',key:'username',render:(text,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Avatar,{size:\"small\",icon:/*#__PURE__*/_jsx(UserOutlined,{}),style:{backgroundColor:record.successful?'#52c41a':'#f5222d'}}),/*#__PURE__*/_jsx(Text,{strong:true,children:text})]})},{title:'操作',dataIndex:'action',key:'action',render:action=>{let text,icon;switch(action){case'login':text='登录';icon=/*#__PURE__*/_jsx(LockOutlined,{});break;case'register':text='注册';icon=/*#__PURE__*/_jsx(UserOutlined,{});break;case'logout':text='登出';icon=/*#__PURE__*/_jsx(LockOutlined,{});break;default:text='密码重置';icon=/*#__PURE__*/_jsx(LockOutlined,{});}return/*#__PURE__*/_jsx(Tag,{icon:icon,children:text});}},{title:'用户类型',dataIndex:'userType',key:'userType',render:userType=>/*#__PURE__*/_jsx(Tag,{color:userType==='admin'?'geekblue':'green',children:userType==='admin'?'管理员':'普通用户'})},{title:'状态',dataIndex:'successful',key:'status',render:(successful,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Badge,{status:successful?\"success\":\"error\",text:successful?'成功':'失败'}),!successful&&record.failureReason&&/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"(\",record.failureReason,\")\"]})]})},{title:'IP地址',dataIndex:'ipAddress',key:'ipAddress',render:ip=>ip||'-'},{title:'时间',dataIndex:'timestamp',key:'timestamp',render:date=>formatDate(date)}];return/*#__PURE__*/_jsxs(Layout,{className:\"min-h-screen bg-gradient-to-br from-[#001529] to-[#003366]\",children:[/*#__PURE__*/_jsxs(Header,{className:\"flex items-center justify-between bg-transparent border-b border-blue-800 px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mr-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(DashboardOutlined,{className:\"text-white text-xl\"})}),/*#__PURE__*/_jsx(Title,{level:3,className:\"mb-0 text-white\",children:\"\\u667A\\u80FD\\u6D77\\u6D0B\\u517B\\u6B96\\u7BA1\\u7406\\u5E73\\u53F0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-6\",children:[/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(LineChartOutlined,{className:\"text-blue-300\"}),className:\"text-blue-200 hover:text-white\",children:\"\\u7CFB\\u7EDF\\u76D1\\u63A7\"}),/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(CloudServerOutlined,{className:\"text-blue-300\"}),className:\"text-blue-200 hover:text-white\",children:\"\\u670D\\u52A1\\u5668\\u72B6\\u6001\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr-4 text-right\",children:[/*#__PURE__*/_jsx(Text,{className:\"text-blue-200 block\",children:\"\\u7BA1\\u7406\\u5458\"}),/*#__PURE__*/_jsx(Text,{strong:true,className:\"text-white\",children:userInfo.username})]}),/*#__PURE__*/_jsx(Avatar,{size:\"large\",src:userInfo.avatar,icon:/*#__PURE__*/_jsx(UserOutlined,{}),className:\"bg-gradient-to-r from-cyan-500 to-blue-500\"})]})]}),/*#__PURE__*/_jsxs(Content,{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\",children:[/*#__PURE__*/_jsx(Card,{className:\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(Statistic,{title:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-300\",children:\"\\u7528\\u6237\\u603B\\u6570\"}),value:stats.totalUsers||0,valueStyle:{color:'#fff'},prefix:/*#__PURE__*/_jsx(TeamOutlined,{className:\"text-blue-300\"})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(Statistic,{title:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-300\",children:\"\\u6D3B\\u8DC3\\u7528\\u6237\"}),value:stats.activeUsers||0,valueStyle:{color:'#fff'},prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{className:\"text-green-400\"})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(Statistic,{title:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-300\",children:\"\\u4ECA\\u65E5\\u767B\\u5F55\"}),value:stats.todayLogins||0,valueStyle:{color:'#fff'},prefix:/*#__PURE__*/_jsx(HistoryOutlined,{className:\"text-blue-300\"})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(Statistic,{title:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-300\",children:\"\\u7CFB\\u7EDF\\u72B6\\u6001\"}),value:\"\\u8FD0\\u884C\\u4E2D\",valueStyle:{color:'#52c41a'},prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{className:\"text-green-400\"})})})]}),/*#__PURE__*/_jsx(Card,{className:\"bg-blue-900/30 border border-blue-700/30 backdrop-blur-sm\",bodyStyle:{padding:0},children:/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onChange:setActiveTab,className:\"custom-admin-tabs\",tabBarStyle:{padding:'0 24px',background:'linear-gradient(90deg, rgba(0,21,41,0.8) 0%, rgba(0,33,64,0.8) 100%)',margin:0},children:[/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-200 flex items-center\",children:[/*#__PURE__*/_jsx(TeamOutlined,{className:\"mr-2\"}),\" \\u7528\\u6237\\u7BA1\\u7406\"]}),children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(Spin,{size:\"large\",tip:\"\\u52A0\\u8F7D\\u7528\\u6237\\u6570\\u636E...\"})}):error?/*#__PURE__*/_jsx(Alert,{message:error,type:\"error\",showIcon:true}):/*#__PURE__*/_jsx(Table,{columns:userColumns,dataSource:users,rowKey:\"_id\",rowClassName:\"cursor-pointer hover:bg-blue-800/20\",onRow:record=>({onClick:()=>setEditingUser(record)}),pagination:{pageSize:8,showSizeChanger:false,className:'custom-pagination'},locale:{emptyText:/*#__PURE__*/_jsxs(\"div\",{className:\"py-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-300 mb-2\",children:\"\\u6CA1\\u6709\\u7528\\u6237\\u6570\\u636E\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",children:\"\\u6DFB\\u52A0\\u65B0\\u7528\\u6237\"})]})}})})},\"users\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-200 flex items-center\",children:[/*#__PURE__*/_jsx(HistoryOutlined,{className:\"mr-2\"}),\" \\u7CFB\\u7EDF\\u65E5\\u5FD7\"]}),children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(Spin,{size:\"large\",tip:\"\\u52A0\\u8F7D\\u65E5\\u5FD7\\u6570\\u636E...\"})}):error?/*#__PURE__*/_jsx(Alert,{message:error,type:\"error\",showIcon:true}):/*#__PURE__*/_jsx(Table,{columns:logColumns,dataSource:logs,rowKey:\"_id\",pagination:{pageSize:8,showSizeChanger:false,className:'custom-pagination'},locale:{emptyText:/*#__PURE__*/_jsxs(\"div\",{className:\"py-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-300 mb-2\",children:\"\\u6CA1\\u6709\\u65E5\\u5FD7\\u6570\\u636E\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u7CFB\\u7EDF\\u8FD0\\u884C\\u65E5\\u5FD7\\u5C06\\u663E\\u793A\\u5728\\u8FD9\\u91CC\"})]})}})})},\"logs\")]})})]}),editingUser&&/*#__PURE__*/_jsx(UserEditModal,{user:editingUser,onClose:()=>setEditingUser(null),onSave:handleSaveUser}),/*#__PURE__*/_jsx(\"style\",{jsx:true,global:true,children:`\n        .custom-admin-tabs .ant-tabs-nav::before {\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-tab {\n          padding: 16px 0 !important;\n          margin: 0 20px !important;\n          color: rgba(255, 255, 255, 0.65) !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-tab-active {\n          color: #1890ff !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-ink-bar {\n          background: #1890ff;\n          height: 3px !important;\n        }\n        \n        .custom-admin-tabs .ant-tabs-tab:hover {\n          color: #1890ff !important;\n        }\n        \n        .ant-table {\n          background: transparent !important;\n          color: rgba(255, 255, 255, 0.85) !important;\n        }\n        \n        .ant-table-thead > tr > th {\n          background: rgba(0, 33, 64, 0.5) !important;\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\n          color: #8dc6ff !important;\n        }\n        \n        .ant-table-tbody > tr > td {\n          border-bottom: 1px solid rgba(24, 144, 255, 0.15) !important;\n          background: rgba(0, 33, 64, 0.2) !important;\n        }\n        \n        .ant-table-tbody > tr.ant-table-row:hover > td {\n          background: rgba(24, 144, 255, 0.1) !important;\n        }\n        \n        .custom-pagination .ant-pagination-item,\n        .custom-pagination .ant-pagination-prev,\n        .custom-pagination .ant-pagination-next {\n          background: rgba(0, 33, 64, 0.3) !important;\n          border: 1px solid rgba(24, 144, 255, 0.2) !important;\n          color: #8dc6ff !important;\n        }\n        \n        .custom-pagination .ant-pagination-item a {\n          color: #8dc6ff !important;\n        }\n        \n        .custom-pagination .ant-pagination-item-active {\n          background: #1890ff !important;\n          border-color: #1890ff !important;\n        }\n        \n        .custom-pagination .ant-pagination-item-active a {\n          color: white !important;\n        }\n        \n        .ant-tag {\n          background: rgba(24, 144, 255, 0.15) !important;\n          color: #8dc6ff !important;\n          border: none !important;\n          border-radius: 4px !important;\n          padding: 2px 8px !important;\n        }\n        \n        .ant-statistic-title {\n          color: #8dc6ff !important;\n        }\n        \n        .ant-statistic-content {\n          color: white !important;\n        }\n      `})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","UserEditModal","Layout","Card","Tabs","Table","Tag","Spin","Alert","Avatar","Button","Space","Typography","Statistic","Badge","UserOutlined","TeamOutlined","HistoryOutlined","CheckCircleOutlined","CloseCircleOutlined","EditOutlined","LockOutlined","LineChartOutlined","DashboardOutlined","CloudServerOutlined","jsx","_jsx","jsxs","_jsxs","Header","Content","Title","Text","TabPane","AdminDashboard","userInfo","logout","authFetch","activeTab","setActiveTab","users","setUsers","logs","setLogs","loading","setLoading","error","setError","editingUser","setEditingUser","stats","setStats","navigate","isAdmin","fetchData","fetchDashboardStats","response","ok","Error","data","json","err","console","tab","fetchUsers","fetchLogs","message","includes","status","formatDate","dateString","date","Date","toLocaleString","handleSaveUser","updatedData","_id","method","headers","body","JSON","stringify","userColumns","title","dataIndex","key","render","text","record","children","size","src","avatar","icon","style","backgroundColor","strong","color","_","type","onClick","e","stopPropagation","logColumns","successful","action","userType","failureReason","ip","className","level","username","value","totalUsers","valueStyle","prefix","activeUsers","todayLogins","bodyStyle","padding","activeKey","onChange","tabBarStyle","background","margin","tip","showIcon","columns","dataSource","rowKey","rowClassName","onRow","pagination","pageSize","showSizeChanger","locale","emptyText","user","onClose","onSave","global"],"sources":["D:/软件工程/智慧海洋牧场可视化系统/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport UserEditModal from '../components/UserEditModal';\r\nimport { \r\n  Layout, Card, Tabs, Table, Tag, Spin, Alert, Avatar, \r\n  Button, Space, Typography, Statistic, Badge\r\n} from 'antd';\r\nimport { \r\n  UserOutlined, TeamOutlined, HistoryOutlined, \r\n  CheckCircleOutlined, CloseCircleOutlined, \r\n  EditOutlined, LockOutlined, LineChartOutlined,\r\n  DashboardOutlined, CloudServerOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Header, Content } = Layout;\r\nconst { Title, Text } = Typography;\r\nconst { TabPane } = Tabs;\r\n\r\nconst AdminDashboard = () => {\r\n  const { userInfo, logout, authFetch } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('users');\r\n  const [users, setUsers] = useState([]);\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [stats, setStats] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!userInfo || !userInfo.isAdmin) {\r\n      navigate('/user-dashboard');\r\n      return;\r\n    }\r\n    \r\n    fetchData(activeTab);\r\n    fetchDashboardStats();\r\n  }, [activeTab, navigate, userInfo]);\r\n\r\n  const fetchDashboardStats = async () => {\r\n    try {\r\n      const response = await authFetch('/api/stats');\r\n      if (!response.ok) throw new Error('获取统计数据失败');\r\n      const data = await response.json();\r\n      setStats(data);\r\n    } catch (err) {\r\n      console.error('获取统计数据失败:', err);\r\n    }\r\n  };\r\n\r\n  const fetchData = async (tab) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      if (tab === 'users') {\r\n        await fetchUsers();\r\n      } else if (tab === 'logs') {\r\n        await fetchLogs();\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || '获取数据失败');\r\n      if (err.message.includes('权限') || err.message.includes('访问被拒绝')) {\r\n        navigate('/user-dashboard');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    const response = await authFetch('/api/users');\r\n    if (!response.ok) {\r\n      const data = await response.json();\r\n      if (response.status === 403) {\r\n        navigate('/user-dashboard');\r\n      }\r\n      throw new Error(data.message || '获取用户列表失败');\r\n    }\r\n    const data = await response.json();\r\n    setUsers(data);\r\n  };\r\n\r\n  const fetchLogs = async () => {\r\n    const response = await authFetch('/api/logs');\r\n    if (!response.ok) {\r\n      const data = await response.json();\r\n      if (response.status === 403) {\r\n        navigate('/user-dashboard');\r\n      }\r\n      throw new Error(data.message || '获取日志失败');\r\n    }\r\n    const data = await response.json();\r\n    setLogs(data);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString('zh-CN');\r\n  };\r\n\r\n  const handleSaveUser = async (updatedData) => {\r\n    try {\r\n      const response = await authFetch(`/api/users/${editingUser._id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(updatedData)\r\n      });\r\n  \r\n      if (!response || !response.json) {\r\n        throw new Error('无效的服务器响应');\r\n      }\r\n  \r\n      const data = await response.json();\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(data.message || `请求失败 (${response.status})`);\r\n      }\r\n  \r\n      await fetchUsers();\r\n      setEditingUser(null);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const userColumns = [\r\n    {\r\n      title: '用户',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      render: (text, record) => (\r\n        <Space>\r\n          <Avatar \r\n            size=\"small\" \r\n            src={record.avatar} \r\n            icon={<UserOutlined />}\r\n            style={{ backgroundColor: '#1890ff' }}\r\n          />\r\n          <Text strong>{text}</Text>\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '邮箱',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: '角色',\r\n      dataIndex: 'isAdmin',\r\n      key: 'role',\r\n      render: (isAdmin) => (\r\n        <Tag color={isAdmin ? 'geekblue' : 'green'} icon={isAdmin ? <CloudServerOutlined /> : <UserOutlined />}>\r\n          {isAdmin ? '管理员' : '普通用户'}\r\n        </Tag>\r\n      )\r\n    },\r\n    {\r\n      title: '状态',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      render: (status) => {\r\n        let color, icon, text;\r\n        if (status === 'active') {\r\n          color = 'success';\r\n          icon = <CheckCircleOutlined />;\r\n          text = '活跃';\r\n        } else if (status === 'suspended') {\r\n          color = 'error';\r\n          icon = <CloseCircleOutlined />;\r\n          text = '已停用';\r\n        } else {\r\n          color = 'default';\r\n          text = '未激活';\r\n        }\r\n        return <Tag color={color} icon={icon}>{text}</Tag>;\r\n      }\r\n    },\r\n    {\r\n      title: '注册时间',\r\n      dataIndex: 'createdAt',\r\n      key: 'createdAt',\r\n      render: (date) => formatDate(date)\r\n    },\r\n    {\r\n      title: '最后登录',\r\n      dataIndex: 'lastLogin',\r\n      key: 'lastLogin',\r\n      render: (date) => date ? formatDate(date) : '从未登录'\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      render: (_, record) => (\r\n        <Button \r\n          type=\"link\" \r\n          icon={<EditOutlined />} \r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            setEditingUser(record);\r\n          }}\r\n        >\r\n          编辑\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const logColumns = [\r\n    {\r\n      title: '用户',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      render: (text, record) => (\r\n        <Space>\r\n          <Avatar \r\n            size=\"small\" \r\n            icon={<UserOutlined />}\r\n            style={{ backgroundColor: record.successful ? '#52c41a' : '#f5222d' }}\r\n          />\r\n          <Text strong>{text}</Text>\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '操作',\r\n      dataIndex: 'action',\r\n      key: 'action',\r\n      render: (action) => {\r\n        let text, icon;\r\n        switch(action) {\r\n          case 'login': \r\n            text = '登录'; \r\n            icon = <LockOutlined />;\r\n            break;\r\n          case 'register': \r\n            text = '注册'; \r\n            icon = <UserOutlined />;\r\n            break;\r\n          case 'logout': \r\n            text = '登出'; \r\n            icon = <LockOutlined />;\r\n            break;\r\n          default: \r\n            text = '密码重置';\r\n            icon = <LockOutlined />;\r\n        }\r\n        return <Tag icon={icon}>{text}</Tag>;\r\n      }\r\n    },\r\n    {\r\n      title: '用户类型',\r\n      dataIndex: 'userType',\r\n      key: 'userType',\r\n      render: (userType) => (\r\n        <Tag color={userType === 'admin' ? 'geekblue' : 'green'}>\r\n          {userType === 'admin' ? '管理员' : '普通用户'}\r\n        </Tag>\r\n      )\r\n    },\r\n    {\r\n      title: '状态',\r\n      dataIndex: 'successful',\r\n      key: 'status',\r\n      render: (successful, record) => (\r\n        <Space>\r\n          <Badge \r\n            status={successful ? \"success\" : \"error\"} \r\n            text={successful ? '成功' : '失败'} \r\n          />\r\n          {!successful && record.failureReason && (\r\n            <Text type=\"secondary\">({record.failureReason})</Text>\r\n          )}\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: 'IP地址',\r\n      dataIndex: 'ipAddress',\r\n      key: 'ipAddress',\r\n      render: (ip) => ip || '-'\r\n    },\r\n    {\r\n      title: '时间',\r\n      dataIndex: 'timestamp',\r\n      key: 'timestamp',\r\n      render: (date) => formatDate(date)\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Layout className=\"min-h-screen bg-gradient-to-br from-[#001529] to-[#003366]\">\r\n      <Header className=\"flex items-center justify-between bg-transparent border-b border-blue-800 px-6\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"flex items-center mr-6\">\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center mr-3\">\r\n              <DashboardOutlined className=\"text-white text-xl\" />\r\n            </div>\r\n            <Title level={3} className=\"mb-0 text-white\">智能海洋养殖管理平台</Title>\r\n          </div>\r\n          \r\n          <div className=\"flex space-x-6\">\r\n            <Button \r\n              type=\"text\" \r\n              icon={<LineChartOutlined className=\"text-blue-300\" />}\r\n              className=\"text-blue-200 hover:text-white\"\r\n            >\r\n              系统监控\r\n            </Button>\r\n            <Button \r\n              type=\"text\" \r\n              icon={<CloudServerOutlined className=\"text-blue-300\" />}\r\n              className=\"text-blue-200 hover:text-white\"\r\n            >\r\n              服务器状态\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center\">\r\n          <div className=\"mr-4 text-right\">\r\n            <Text className=\"text-blue-200 block\">管理员</Text>\r\n            <Text strong className=\"text-white\">{userInfo.username}</Text>\r\n          </div>\r\n          <Avatar \r\n            size=\"large\" \r\n            src={userInfo.avatar} \r\n            icon={<UserOutlined />}\r\n            className=\"bg-gradient-to-r from-cyan-500 to-blue-500\"\r\n          />\r\n        </div>\r\n      </Header>\r\n      \r\n      <Content className=\"p-6\">\r\n        {/* 数据统计卡片 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">用户总数</span>}\r\n              value={stats.totalUsers || 0}\r\n              valueStyle={{ color: '#fff' }}\r\n              prefix={<TeamOutlined className=\"text-blue-300\" />}\r\n            />\r\n          </Card>\r\n          \r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">活跃用户</span>}\r\n              value={stats.activeUsers || 0}\r\n              valueStyle={{ color: '#fff' }}\r\n              prefix={<CheckCircleOutlined className=\"text-green-400\" />}\r\n            />\r\n          </Card>\r\n          \r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">今日登录</span>}\r\n              value={stats.todayLogins || 0}\r\n              valueStyle={{ color: '#fff' }}\r\n              prefix={<HistoryOutlined className=\"text-blue-300\" />}\r\n            />\r\n          </Card>\r\n          \r\n          <Card className=\"bg-blue-900/50 border border-blue-700/50 backdrop-blur-sm\">\r\n            <Statistic\r\n              title={<span className=\"text-blue-300\">系统状态</span>}\r\n              value=\"运行中\"\r\n              valueStyle={{ color: '#52c41a' }}\r\n              prefix={<CheckCircleOutlined className=\"text-green-400\" />}\r\n            />\r\n          </Card>\r\n        </div>\r\n        \r\n        <Card \r\n          className=\"bg-blue-900/30 border border-blue-700/30 backdrop-blur-sm\"\r\n          bodyStyle={{ padding: 0 }}\r\n        >\r\n          <Tabs \r\n            activeKey={activeTab}\r\n            onChange={setActiveTab}\r\n            className=\"custom-admin-tabs\"\r\n            tabBarStyle={{ \r\n              padding: '0 24px', \r\n              background: 'linear-gradient(90deg, rgba(0,21,41,0.8) 0%, rgba(0,33,64,0.8) 100%)',\r\n              margin: 0\r\n            }}\r\n          >\r\n            <TabPane \r\n              tab={\r\n                <span className=\"text-blue-200 flex items-center\">\r\n                  <TeamOutlined className=\"mr-2\" /> 用户管理\r\n                </span>\r\n              } \r\n              key=\"users\"\r\n            >\r\n              <div className=\"p-6\">\r\n                {loading ? (\r\n                  <div className=\"flex justify-center items-center h-64\">\r\n                    <Spin size=\"large\" tip=\"加载用户数据...\" />\r\n                  </div>\r\n                ) : error ? (\r\n                  <Alert message={error} type=\"error\" showIcon />\r\n                ) : (\r\n                  <Table \r\n                    columns={userColumns}\r\n                    dataSource={users}\r\n                    rowKey=\"_id\"\r\n                    rowClassName=\"cursor-pointer hover:bg-blue-800/20\"\r\n                    onRow={(record) => ({\r\n                      onClick: () => setEditingUser(record),\r\n                    })}\r\n                    pagination={{ \r\n                      pageSize: 8, \r\n                      showSizeChanger: false,\r\n                      className: 'custom-pagination'\r\n                    }}\r\n                    locale={{\r\n                      emptyText: (\r\n                        <div className=\"py-12 text-center\">\r\n                          <div className=\"text-blue-300 mb-2\">没有用户数据</div>\r\n                          <Button type=\"primary\">添加新用户</Button>\r\n                        </div>\r\n                      )\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </TabPane>\r\n            \r\n            <TabPane \r\n              tab={\r\n                <span className=\"text-blue-200 flex items-center\">\r\n                  <HistoryOutlined className=\"mr-2\" /> 系统日志\r\n                </span>\r\n              } \r\n              key=\"logs\"\r\n            >\r\n              <div className=\"p-6\">\r\n                {loading ? (\r\n                  <div className=\"flex justify-center items-center h-64\">\r\n                    <Spin size=\"large\" tip=\"加载日志数据...\" />\r\n                  </div>\r\n                ) : error ? (\r\n                  <Alert message={error} type=\"error\" showIcon />\r\n                ) : (\r\n                  <Table \r\n                    columns={logColumns}\r\n                    dataSource={logs}\r\n                    rowKey=\"_id\"\r\n                    pagination={{ \r\n                      pageSize: 8, \r\n                      showSizeChanger: false,\r\n                      className: 'custom-pagination'\r\n                    }}\r\n                    locale={{\r\n                      emptyText: (\r\n                        <div className=\"py-12 text-center\">\r\n                          <div className=\"text-blue-300 mb-2\">没有日志数据</div>\r\n                          <Text type=\"secondary\">系统运行日志将显示在这里</Text>\r\n                        </div>\r\n                      )\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </TabPane>\r\n          </Tabs>\r\n        </Card>\r\n      </Content>\r\n      \r\n      {editingUser && (\r\n        <UserEditModal\r\n          user={editingUser}\r\n          onClose={() => setEditingUser(null)}\r\n          onSave={handleSaveUser}\r\n        />\r\n      )}\r\n      \r\n      <style jsx global>{`\r\n        .custom-admin-tabs .ant-tabs-nav::before {\r\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-tab {\r\n          padding: 16px 0 !important;\r\n          margin: 0 20px !important;\r\n          color: rgba(255, 255, 255, 0.65) !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-tab-active {\r\n          color: #1890ff !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-ink-bar {\r\n          background: #1890ff;\r\n          height: 3px !important;\r\n        }\r\n        \r\n        .custom-admin-tabs .ant-tabs-tab:hover {\r\n          color: #1890ff !important;\r\n        }\r\n        \r\n        .ant-table {\r\n          background: transparent !important;\r\n          color: rgba(255, 255, 255, 0.85) !important;\r\n        }\r\n        \r\n        .ant-table-thead > tr > th {\r\n          background: rgba(0, 33, 64, 0.5) !important;\r\n          border-bottom: 1px solid rgba(24, 144, 255, 0.3) !important;\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .ant-table-tbody > tr > td {\r\n          border-bottom: 1px solid rgba(24, 144, 255, 0.15) !important;\r\n          background: rgba(0, 33, 64, 0.2) !important;\r\n        }\r\n        \r\n        .ant-table-tbody > tr.ant-table-row:hover > td {\r\n          background: rgba(24, 144, 255, 0.1) !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item,\r\n        .custom-pagination .ant-pagination-prev,\r\n        .custom-pagination .ant-pagination-next {\r\n          background: rgba(0, 33, 64, 0.3) !important;\r\n          border: 1px solid rgba(24, 144, 255, 0.2) !important;\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item a {\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item-active {\r\n          background: #1890ff !important;\r\n          border-color: #1890ff !important;\r\n        }\r\n        \r\n        .custom-pagination .ant-pagination-item-active a {\r\n          color: white !important;\r\n        }\r\n        \r\n        .ant-tag {\r\n          background: rgba(24, 144, 255, 0.15) !important;\r\n          color: #8dc6ff !important;\r\n          border: none !important;\r\n          border-radius: 4px !important;\r\n          padding: 2px 8px !important;\r\n        }\r\n        \r\n        .ant-statistic-title {\r\n          color: #8dc6ff !important;\r\n        }\r\n        \r\n        .ant-statistic-content {\r\n          color: white !important;\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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,MA8BG,CAAC,EACN,CAAC,CACH,CAAC,EACA,CAAC,CAETzC,WAAW,eACVtB,IAAA,CAACzB,aAAa,EACZwI,IAAI,CAAEzF,WAAY,CAClB0F,OAAO,CAAEA,CAAA,GAAMzF,cAAc,CAAC,IAAI,CAAE,CACpC0F,MAAM,CAAEjE,cAAe,CACxB,CACF,cAEDhD,IAAA,UAAOD,GAAG,MAACmH,MAAM,MAAAnD,QAAA,CAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAAQ,CAAC,EACJ,CAAC,CAEb,CAAC,CAED,cAAe,CAAAvD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}