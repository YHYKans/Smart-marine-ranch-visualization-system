{"ast":null,"code":"import{NavLink}from'react-router-dom';import React from'react';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const menuConfig=[{title:'Dashboard',path:'/user-dashboard',icon:'📊',adminOnly:false,description:'System overview'},{title:'Underwater',path:'/underwater',icon:'🏞️',adminOnly:false,description:'Underwater monitoring'},{title:'FishVisualization',path:'/fish',icon:'🐋',adminOnly:false,description:'FishVisualization'},{title:'Weather',path:'/weather',icon:'⚙️',adminOnly:false,description:'weather'},{title:'Video',path:'/video',icon:'⚙️',adminOnly:false,description:'Video'},{title:'AI Center',path:'/ai-center',icon:'🧠',adminOnly:true,description:'AI Analytics'},{title:'Admin',path:'/admin-dashboard',icon:'⚙️',adminOnly:true,description:'System administration'}];export default function Sidebar(_ref){let{isOpen,isMobile,onClose}=_ref;const{userInfo}=useAuth();const filteredMenu=menuConfig.filter(item=>!item.adminOnly||item.adminOnly&&(userInfo===null||userInfo===void 0?void 0:userInfo.isAdmin));return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"aside\",{className:`fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-gray-800 transition-transform duration-300 z-40 ${isOpen?'translate-x-0':'-translate-x-full'}`,children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4 h-full overflow-y-auto\",children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:filteredMenu.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(NavLink,{to:item.path,onClick:isMobile?onClose:undefined,className:_ref2=>{let{isActive}=_ref2;return`flex items-center gap-3 p-3 rounded-lg transition-colors ${isActive?'bg-blue-600 text-white':'text-gray-300 hover:bg-gray-700'}`;},children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:item.icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:item.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400\",children:item.description})]})]})},item.path))})})})}),isMobile&&isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 z-30\",onClick:onClose})]});}","map":{"version":3,"names":["NavLink","React","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","menuConfig","title","path","icon","adminOnly","description","Sidebar","_ref","isOpen","isMobile","onClose","userInfo","filteredMenu","filter","item","isAdmin","children","className","map","to","onClick","undefined","_ref2","isActive"],"sources":["D:/软件工程/智慧海洋牧场可视化系统/frontend/src/components/Sidebar.jsx"],"sourcesContent":["import { NavLink } from 'react-router-dom';\r\nimport React from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst menuConfig = [\r\n  { \r\n    title: 'Dashboard', \r\n    path: '/user-dashboard', \r\n    icon: '📊',\r\n    adminOnly: false,\r\n    description: 'System overview'\r\n  },\r\n  { \r\n    title: 'Underwater', \r\n    path: '/underwater', \r\n    icon: '🏞️',\r\n    adminOnly: false,\r\n    description: 'Underwater monitoring'\r\n  },\r\n  { \r\n    title: 'FishVisualization', \r\n    path: '/fish', \r\n    icon: '🐋',\r\n    adminOnly: false,\r\n    description: 'FishVisualization'\r\n  },\r\n  { \r\n    title: 'Weather', \r\n    path: '/weather', \r\n    icon: '⚙️',\r\n    adminOnly: false,\r\n    description: 'weather'\r\n  },\r\n  { \r\n    title: 'Video', \r\n    path: '/video', \r\n    icon: '⚙️',\r\n    adminOnly: false,\r\n    description: 'Video'\r\n  },\r\n  { \r\n    title: 'AI Center', \r\n    path: '/ai-center', \r\n    icon: '🧠',\r\n    adminOnly: true,\r\n    description: 'AI Analytics'\r\n  },\r\n  { \r\n    title: 'Admin', \r\n    path: '/admin-dashboard', \r\n    icon: '⚙️',\r\n    adminOnly: true,\r\n    description: 'System administration'\r\n  }\r\n];\r\n\r\nexport default function Sidebar({ isOpen, isMobile, onClose }) {\r\n  const { userInfo } = useAuth();\r\n  \r\n  const filteredMenu = menuConfig.filter(item => \r\n    !item.adminOnly || (item.adminOnly && userInfo?.isAdmin)\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <aside className={`fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-gray-800 transition-transform duration-300 z-40 ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>\r\n        <div className=\"p-4 h-full overflow-y-auto\">\r\n          <nav>\r\n            <ul className=\"space-y-2\">\r\n              {filteredMenu.map(item => (\r\n                <li key={item.path}>\r\n                  <NavLink\r\n                    to={item.path}\r\n                    onClick={isMobile ? onClose : undefined}\r\n                    className={({ isActive }) => \r\n                      `flex items-center gap-3 p-3 rounded-lg transition-colors ${\r\n                        isActive \r\n                          ? 'bg-blue-600 text-white' \r\n                          : 'text-gray-300 hover:bg-gray-700'\r\n                      }`\r\n                    }\r\n                  >\r\n                    <span className=\"text-xl\">{item.icon}</span>\r\n                    <div>\r\n                      <div className=\"font-medium\">{item.title}</div>\r\n                      <div className=\"text-xs text-gray-400\">{item.description}</div>\r\n                    </div>\r\n                  </NavLink>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </aside>\r\n\r\n      {isMobile && isOpen && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/50 z-30\"\r\n          onClick={onClose}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}